version: "3.3"

services:
  some-user:
    build:
      context: .  # Указывает путь к Dockerfile (текущая директория)
      dockerfile: Dockerfile  # Имя Dockerfile (по умолчанию "Dockerfile")
    container_name: someuser
    volumes:
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro
      - ./config.yml:/home/app/config.yml:ro
      - ./.env:/home/app/.env:ro
#    depends_on:
#      - postgres
#    ports:
#      - "3000:3000"
    env_file:
      - .env
    restart: "always"
    command: ["./someuser", "-config", "/home/app/config.yml"]
    logging:
      driver: "json-file"
      options:
        max-file: "5"
        max-size: "10m"
